import{d as H,u as O,r as s,o as $,c as j,w as e,a as t,b as G,t as l,e as z,f as r,g as L,h as n,i as R,j as U,k as S,l as F,m as J,n as k}from"./index-_J4J_J_p.js";import{u as Y}from"./notificationsStore-RrGxiaY8.js";const q=()=>{const _=o=>o.ok?o.json().then(i=>Promise.resolve({data:i,code:o.status,response:o})).catch(i=>Promise.resolve({data:o,code:o.status,response:o})):o.json().catch(i=>Promise.resolve({data:o.statusText,code:o.status,response:o})).then(i=>Promise.resolve({data:i.error.message,code:o.status,response:o}));return{getData:async o=>await fetch(o,{method:"GET",headers:{Accept:"application/json"}}).then(i=>_(i)),getDataAuthenticated:async(o,i)=>await fetch(o,{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+i}}).then(d=>_(d)),postDataAuthenticated:async(o,i={},d)=>{let a={Accept:"application/json","Content-Type":"application/json"};return d&&d.length&&(a.Authorization="Bearer "+d),await fetch(o,{method:"POST",headers:a,body:JSON.stringify(i)}).then(f=>_(f))}}},K=()=>({getCurrentIPAddress:async()=>{const m=q();let c="https://ipwho.is/";return await m.getData(c).then(p=>{let o=p.data;return{ip:p.data.ip,city:o.city,region:o.region,country:o.country,latitude:o.latitude,longitude:o.longitude,message:`Your ip is ${o.ip} and your location: ${o.latitude}, ${o.longitude} which is in ${o.city}, ${o.region} ${o.country}`}})}}),Q={key:0,class:"d-flex justify-start"},B=H({__name:"Modal",props:{open:{},title:{},width:{},onClose:{type:Function}},setup(_){const{mobile:m}=O(),c=_;return(p,o)=>{const i=s("v-icon"),d=s("v-btn"),a=s("v-card-title"),f=s("v-card-text"),v=s("v-card"),h=s("v-dialog");return $(),j(h,{modelValue:c.open,"onUpdate:modelValue":o[0]||(o[0]=P=>c.open=P),transition:"dialog-bottom-transition","overlay-color":"transparent","overlay-opacity":"0",width:"width",fullscreen:n(m).value},{default:e(()=>[t(v,null,{default:e(()=>[t(a,{class:"d-flex flex-row"},{default:e(()=>[c.title?($(),G("span",Q,l(c.title),1)):z("",!0),t(d,{class:"d-flex ml-auto",icon:"",color:"primary",dark:"",onClick:c.onClose},{default:e(()=>[t(i,null,{default:e(()=>[r("mdi-close")]),_:1})]),_:1},8,["onClick"])]),_:1}),t(f,null,{default:e(()=>[L(p.$slots,"default")]),_:3})]),_:3})]),_:3},8,["modelValue","fullscreen"])}}}),Z=H({__name:"Home",setup(_){const m=R(),c=Y(),p=J(),o=K(),i=U();let d=S(!1),a=S({}),f=S(""),v=S(!1),h=S(!1);F(async()=>{d.value=m.userHasSignedIn();const g=p.getUserLocale(),u=await p.getLocalizedTextSet(["welcome","homepagewelcome","getstartedmessage","notifications","notificationsdescription","modals","modalsdescription","error","success","view","close","authenticatedcontent","authenticatedcontentdescription","services","serviceexampletitle","serviceexampledescription","forms","formsexample","formsexampledescription"],g);a.value=u,d.value===!0&&i.push({path:"/summary"})});const P=()=>{c.success(a.value.success)},E=()=>{c.error(a.value.error)},N=()=>{h.value=!h.value},I=()=>{v.value=!v.value},M=async()=>{await o.getCurrentIPAddress().then(g=>{g&&(f.value=g.message,I())})};return(g,u)=>{const y=s("v-card-title"),w=s("v-card-text"),x=s("v-card"),T=s("v-container"),C=s("v-col"),V=s("v-row"),A=s("v-btn"),D=s("v-card-actions");return $(),j(T,{fluid:"","fill-height":""},{default:e(()=>[t(V,{"no-gutters":""},{default:e(()=>[t(C,{cols:"12",class:"p-2"},{default:e(()=>[k("h2",null,l(n(a).welcome),1),k("p",null,l(n(a).homepagewelcome),1),n(d)?($(),j(T,{key:0,fluid:""},{default:e(()=>[t(x,null,{default:e(()=>[t(y,{"primary-title":""},{default:e(()=>[r(l(n(a).authenticatedcontent),1)]),_:1}),t(w,null,{default:e(()=>[r(l(n(a).authenticatedcontentdescription),1)]),_:1})]),_:1})]),_:1})):z("",!0)]),_:1})]),_:1}),t(V,{dense:""},{default:e(()=>[t(C,{cols:"12",md:"4",lg:"3"},{default:e(()=>[t(x,{height:"175"},{default:e(()=>[t(y,{"primary-title":""},{default:e(()=>[r(l(n(a).notifications),1)]),_:1}),t(w,{height:"65"},{default:e(()=>[r(l(n(a).notificationsdescription),1)]),_:1}),t(D,null,{default:e(()=>[t(A,{variant:"elevated",color:"primary",onClick:u[0]||(u[0]=b=>P())},{default:e(()=>[r(l(n(a).success),1)]),_:1}),t(A,{variant:"elevated",color:"primary",onClick:u[1]||(u[1]=b=>E())},{default:e(()=>[r(l(n(a).error),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(C,{cols:"12",md:"4",lg:"3"},{default:e(()=>[t(x,{height:"175"},{default:e(()=>[t(y,{"primary-title":""},{default:e(()=>[r(l(n(a).modals),1)]),_:1}),t(w,{height:"65"},{default:e(()=>[r(l(n(a).modalsdescription),1)]),_:1}),t(D,null,{default:e(()=>[t(A,{variant:"elevated",color:"primary",onClick:u[2]||(u[2]=b=>N())},{default:e(()=>[r(l(n(a).view),1)]),_:1}),t(B,{title:n(a).welcome,open:n(h),"on-close":N},{default:e(()=>[k("p",null,l(n(a).homepagewelcome),1)]),_:1},8,["title","open"])]),_:1})]),_:1})]),_:1}),t(C,{cols:"12",md:"4",lg:"3"},{default:e(()=>[t(x,{height:"175"},{default:e(()=>[t(y,{"primary-title":""},{default:e(()=>[r(l(n(a).services),1)]),_:1}),t(w,{height:"65"},{default:e(()=>[r(l(n(a).serviceexampledescription),1)]),_:1}),t(D,null,{default:e(()=>[t(A,{variant:"elevated",color:"primary",onClick:u[3]||(u[3]=b=>M())},{default:e(()=>[r(l(n(a).serviceexampletitle),1)]),_:1})]),_:1})]),_:1}),t(B,{title:n(a).serviceexampletitle,open:n(v),"on-close":I},{default:e(()=>[k("p",null,l(n(f)),1)]),_:1},8,["title","open"])]),_:1}),t(C,{cols:"12",md:"4",lg:"3"},{default:e(()=>[t(x,{height:"175"},{default:e(()=>[t(y,{"primary-title":""},{default:e(()=>[r(l(n(a).forms),1)]),_:1}),t(w,{height:"65"},{default:e(()=>[r(l(n(a).formsexampledescription),1)]),_:1}),t(D,null,{default:e(()=>[t(A,{variant:"elevated",color:"primary",to:"/contact"},{default:e(()=>[r(l(n(a).formsexample),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Z as default};
